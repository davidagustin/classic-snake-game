"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{9205:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s(7876),a=s(4232),n=s(2110);let i={BOARD_SIZE:20,INITIAL_SNAKE:[{x:10,y:10}],INITIAL_DIRECTION:{x:0,y:-1},INITIAL_FOOD:{x:15,y:15},GAME_SPEED:150,SCORE_INCREMENT:10},c={UP:{x:0,y:-1},DOWN:{x:0,y:1},LEFT:{x:-1,y:0},RIGHT:{x:1,y:0}};var l=s(604);function d(e){let{score:t,highScore:s}=e;return(0,r.jsxs)("div",{className:"text-center space-y-2",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-foreground",children:"Snake Game"}),(0,r.jsxs)("div",{className:"flex justify-center items-center gap-8",children:[(0,r.jsxs)("div",{className:"text-xl font-medium",children:["Score: ",(0,r.jsx)("span",{className:"text-accent",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg",children:[(0,r.jsx)(l.X,{className:"text-accent",size:20}),(0,r.jsxs)("span",{children:["Best: ",s]})]})]})]})}var o=s(9241),u=s(9573);function x(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,u.QP)((0,o.$)(t))}function m(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"card",className:x("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...s})}function h(e){let{snake:t,food:s}=e;return(0,r.jsx)(m,{className:"p-6 bg-card",children:(0,r.jsx)("div",{className:"flex flex-col items-center space-y-4",children:(0,r.jsx)("div",{className:"grid gap-px bg-border p-2 rounded-lg",style:{gridTemplateColumns:"repeat(".concat(i.BOARD_SIZE,", minmax(0, 1fr))"),aspectRatio:"1"},children:Array.from({length:i.BOARD_SIZE},(e,a)=>Array.from({length:i.BOARD_SIZE},(e,n)=>((e,a)=>{var n,i;let c=(null==(n=t[0])?void 0:n.x)===e&&(null==(i=t[0])?void 0:i.y)===a,l=t.slice(1).some(t=>t.x===e&&t.y===a),d=s.x===e&&s.y===a,o="w-4 h-4 border border-border/20";return c?o+=" bg-accent shadow-lg":l?o+=" bg-accent/80":d?o+=" bg-destructive rounded-full animate-pulse":o+=" bg-primary/20",(0,r.jsx)("div",{className:o},"".concat(e,"-").concat(a))})(n,a)))})})})}var v=s(1138);let g=(0,s(9518).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function p(e){let{className:t,variant:s,size:a,asChild:n=!1,...i}=e,c=n?v.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:x(g({variant:s,size:a,className:t})),...i})}var f=s(251),y=s(5455),N=s(3308),j=s(2705),b=s(916),I=s(5385),w=s(5725);function E(e){let{gameState:t,startGame:s,pauseGame:n,resetGame:i,changeDirection:c}=e,l=function(){let[e,t]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),s=()=>{t(window.innerWidth<768)};return e.addEventListener("change",s),t(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}();return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:["notStarted"===t&&(0,r.jsxs)(p,{onClick:s,className:"gap-2",children:[(0,r.jsx)(f.j,{size:16}),"Start Game"]}),("playing"===t||"paused"===t)&&(0,r.jsxs)(p,{onClick:n,variant:"outline",className:"gap-2",children:["playing"===t?(0,r.jsx)(y.v,{size:16}):(0,r.jsx)(f.j,{size:16}),"playing"===t?"Pause":"Resume"]}),(0,r.jsxs)(p,{onClick:i,variant:"outline",className:"gap-2",children:[(0,r.jsx)(N.S,{size:16}),"Reset"]})]}),l&&(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)(p,{variant:"outline",size:"sm",onClick:()=>c({x:0,y:-1}),className:"w-12 h-12",children:(0,r.jsx)(j.D,{size:20})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(p,{variant:"outline",size:"sm",onClick:()=>c({x:-1,y:0}),className:"w-12 h-12",children:(0,r.jsx)(b.n,{size:20})}),(0,r.jsx)(p,{variant:"outline",size:"sm",onClick:()=>c({x:1,y:0}),className:"w-12 h-12",children:(0,r.jsx)(I.Q,{size:20})})]}),(0,r.jsx)(p,{variant:"outline",size:"sm",onClick:()=>c({x:0,y:1}),className:"w-12 h-12",children:(0,r.jsx)(w.y,{size:20})})]}),(0,r.jsx)("div",{className:"text-center text-sm text-muted-foreground space-y-1",children:(0,r.jsx)("p",{children:"Arrow Keys or WASD to move • SPACE to pause • R to reset"})})]})}function k(e){let{gameState:t,score:s,highScore:a}=e;return"playing"===t?null:(0,r.jsxs)("div",{className:"text-center space-y-4",children:["notStarted"===t&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-lg",children:"Press SPACE or click Play to start"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use arrow keys or WASD to move"})]}),"paused"===t&&(0,r.jsx)("p",{className:"text-lg text-accent",children:"Game Paused"}),"gameOver"===t&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("p",{className:"text-lg text-destructive",children:"Game Over!"}),(0,r.jsxs)("p",{className:"text-sm",children:["Final Score: ",s]}),s===a&&s>0&&(0,r.jsx)("p",{className:"text-accent font-medium",children:"New High Score! \uD83C\uDF89"})]})]})}let S=function(){let{snake:e,food:t,gameState:s,score:l,highScore:o,setGameState:u,resetGame:x,startGame:m,pauseGame:v,changeDirection:g}=function(){let[e,t]=(0,a.useState)(i.INITIAL_SNAKE),[s,r]=(0,a.useState)(i.INITIAL_DIRECTION),[l,d]=(0,a.useState)(i.INITIAL_FOOD),[o,u]=(0,a.useState)("notStarted"),[x,m]=(0,a.useState)(0),[h,v]=(0,n.V)("snake-high-score","0"),g=h?parseInt(h,10):0,p=(0,a.useRef)(void 0),f=(0,a.useRef)([]),y=(0,a.useCallback)(e=>{let t;do t={x:Math.floor(Math.random()*i.BOARD_SIZE),y:Math.floor(Math.random()*i.BOARD_SIZE)};while(e.some(e=>e.x===t.x&&e.y===t.y));return t},[]),N=(0,a.useCallback)(()=>{t(i.INITIAL_SNAKE),r(i.INITIAL_DIRECTION),d(i.INITIAL_FOOD),m(0),u("notStarted"),f.current=[],p.current&&clearInterval(p.current)},[]),j=(0,a.useCallback)(()=>{u("playing")},[]),b=(0,a.useCallback)(()=>{u("paused"===o?"playing":"paused")},[o]),I=(0,a.useCallback)(e=>{if("playing"!==o)return;let t=f.current.length>0?f.current[f.current.length-1]:s;(t.x!==-e.x||t.y!==-e.y)&&f.current.push(e)},[s,o]),w=(0,a.useCallback)(()=>{"playing"===o&&t(e=>{let t=[...e],a={...t[0]},n=s;return(f.current.length>0&&r(n=f.current.shift()),a.x+=n.x,a.y+=n.y,a.x<0||a.x>=i.BOARD_SIZE||a.y<0||a.y>=i.BOARD_SIZE||e.some(e=>e.x===a.x&&e.y===a.y))?(u("gameOver"),x>g&&v(x.toString()),e):(t.unshift(a),a.x===l.x&&a.y===l.y?(m(e=>e+i.SCORE_INCREMENT),d(y(t))):t.pop(),t)})},[s,l,o,x,g,v,y]);return(0,a.useEffect)(()=>("playing"===o?p.current=setInterval(w,i.GAME_SPEED):p.current&&clearInterval(p.current),()=>{p.current&&clearInterval(p.current)}),[o,w]),{snake:e,direction:s,food:l,gameState:o,score:x,highScore:g,setGameState:u,resetGame:N,startGame:j,pauseGame:b,changeDirection:I,DIRECTIONS:c}}();return!function(e){let{changeDirection:t,gameState:s,startGame:r,pauseGame:n,resetGame:i}=e;(0,a.useEffect)(()=>{let e=e=>{switch(e.key.toLowerCase()){case"arrowup":case"w":e.preventDefault(),t(c.UP);break;case"arrowdown":case"s":e.preventDefault(),t(c.DOWN);break;case"arrowleft":case"a":e.preventDefault(),t(c.LEFT);break;case"arrowright":case"d":e.preventDefault(),t(c.RIGHT);break;case" ":e.preventDefault(),"notStarted"===s?r():("playing"===s||"paused"===s)&&n();break;case"r":e.preventDefault(),i()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,s,r,n,i])}({changeDirection:g,gameState:s,startGame:m,pauseGame:v,resetGame:x}),!function(e){let{gameState:t,setGameState:s}=e;(0,a.useEffect)(()=>{let e=()=>{"playing"===t&&s("paused")};return window.addEventListener("blur",e),()=>window.removeEventListener("blur",e)},[t,s])}({gameState:s,setGameState:u}),(0,r.jsx)("div",{className:"min-h-screen bg-background p-4 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl space-y-6",children:[(0,r.jsx)(d,{score:l,highScore:o}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h,{snake:e,food:t}),(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsx)(k,{gameState:s,score:l,highScore:o})})]}),(0,r.jsx)(E,{gameState:s,startGame:m,pauseGame:v,resetGame:x,changeDirection:g})]})})}}}]);